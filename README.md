# XOTD (v2.0.0)

## 소개
- MBTI 기반 일본 이름 생성기 & 한글 이름 일본어 변환기
- Next.js 15, Tailwind CSS 기반, AWS Amplify 배포
- SEO 고도화, 반응형 UX, 속도 최적화 완료
- **구글 애드센스 정책 준수 및 이미지 최적화로 성능 극대화 (v2.0)**

## 실행 방법
```bash
npm install
npm run dev
```

## Version History

- **v2.0.0** (2024-12-21):
  - **구글 애드센스 정책 위반 해결**: 플레이스홀더 텍스트 제거, 광고 라벨 추가, 이미지 로딩 속도 대폭 개선
  - **이미지 최적화 완료**: PNG → WebP 변환으로 95% 파일 크기 감소, 개별 성향 이미지 모바일 최적화
  - **성능 개선**: 총 preload 크기 400-600KB → 80-160KB로 75% 감소
  - **모바일 UX 개선**: 개별 성향 이미지 300x300px로 확대하여 모바일에서 선명하게 표시
- **v1.0.8** (2024-12-21):
  - **극단적 URL 단축 시스템 구현**: Base64 인코딩에서 ID 방식(`enfp-m-21`)으로 변경하여 URL 길이를 95% 단축 (500자+ → 10-15자)
  - **Amplify 배포 안정성 개선**: React 18 안정 버전 사용, Node.js 18.18.2 고정, 복잡한 웹팩 설정 제거
  - **빌드 환경 최적화**: .nvmrc 파일 추가, engines 필드 명시, amplify.yml 개선
  - 카카오톡 OG 이미지 호환성 극대화를 위한 URL 최적화
- **v1.0.7** (2024-12-21):
  - 동적 라우트(`/result/[id]`) 기반의 공유 URL 시스템 도입
  - SNS/메신저 OG 이미지 미리보기 기능 안정화 (카카오, 페이스북 등)
- **v1.0.6** (2024-12-20):
  - CI/CD 파이프라인 최적화: GitHub Actions는 테스트만, AWS Amplify는 코드 변경 시 자동 배포를 담당하도록 역할을 분리하여 프로세스를 단순화
  - 코드 리팩토링: 불필요한 `src`, `components` 디렉토리 및 레거시 파일 제거
- **v1.0.5** (2024-12-19):
  - 정적 OG 이미지 생성 및 적용 (약 890개 이미지)
  - 짧은 공유 URL 시스템 구현 (쿼리 파라미터 기반)
- **v1.0.2** (2024-06-15)
  - 빌드/타입스크립트/ESLint 오류 수정 및 CI/CD 안정화
  - AWS Amplify 배포 워크플로우 점검
- **v1.0** (2024-06-14)
  - SEO 고도화, UX/반응형 개선, 속도 최적화 마무리

## 주요 기능

- **MBTI 일본이름 생성기**
  - MBTI와 성별을 선택하면 일본식 이름을 추천
  - 생성된 결과는 고유 URL(`/result/[id]`)을 통해 공유 가능
- **결과 공유 페이지**
  - 동적 OG 태그(미리보기 이미지, 제목, 설명) 자동 생성
  - 카카오톡 등 소셜 미디어에서 안정적인 미리보기 지원
- **한글→일본어 이름 변환기**
  - 한글 성/이름 입력(각 4글자 제한)
  - 일본어(카타카나/히라가나)로 변환
  - 각 결과 하단에 '성 복사하기', '이름 복사하기' 버튼 제공

## 성능 최적화 성과

### 이미지 최적화
- **개별 성향 이미지**: 17-851KB → 3.1-8.5KB (95% 감소)
- **MBTI 전체 조합**: 43-139KB → 2.4-8.1KB (95% 감소)
- **총 preload 크기**: 400-600KB → 80-160KB (75% 감소)
- **모바일 최적화**: 300x300px 해상도로 모바일에서 선명하게 표시

### 구글 애드센스 정책 준수
- ✅ 플레이스홀더 텍스트 완전 제거
- ✅ 광고 라벨 추가로 콘텐츠 구분 명확화
- ✅ 이미지 로딩 속도 대폭 개선
- ✅ 사용자 경험 향상

## TODO
- 광고 영역 실제 적용 및 모니터링
- 결과 공유 기능(Web Share API, SNS 등) 고도화
- 테스트 및 품질 관리(단위/E2E 테스트, 크로스 브라우저 등)
- 성능 모니터링 및 추가 최적화
- E2E 테스트 구축 (Cypress/Playwright 등 활용)
- 구글, 네이버 검색 등록 및 사이트맵 제출

## 폴더 구조
```
D:/dev/xotd
├── app/                # Next.js App Router (메인)
│   ├── page.tsx            # 메인 페이지 (이름 생성기)
│   ├── result/[id]/page.tsx # 동적 결과 페이지
│   └── ...
├── amplify/            # AWS Amplify 백엔드 설정
├── public/             # 정적 파일 (favicon, 이미지 등)
│   └── images/         # 최적화된 WebP 이미지들
├── scripts/            # 이미지 최적화 스크립트
├── ...
```

## 개발/운영 참고
- favicon은 반드시 public/favicon.ico에 위치해야 함
- src/app은 더 이상 사용하지 않음 (app만 유지)
- 서버 재시작 필요시: `npm run dev`
- 기본 포트(3000) 사용 불가 시, 자동으로 3001 등으로 변경됨
- 이미지 최적화: `scripts/optimize-images.js` 사용
